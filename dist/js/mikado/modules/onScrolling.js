"use strict";function handleScroll(){var e=!1;(callbackQueue.x.length||callbackQueue.any.length)&&(scrollX=window.pageXOffset),(callbackQueue.y.length||callbackQueue.any.length)&&(scrollY=window.pageYOffset),scrollY!==scrollYCached&&(callbackQueue.y.forEach(triggerCallback.y),scrollYCached=scrollY,e=!0),scrollX!==scrollXCached&&(callbackQueue.x.forEach(triggerCallback.x),scrollXCached=scrollX,e=!0),e&&(callbackQueue.any.forEach(triggerCallback.any),window.clearTimeout(detectIdleTimeout),detectIdleTimeout=null),isQueued=!1,requestTick()}function triggerCallback(e,l){e(l)}function enableScrollListener(){if(!isListening&&!isQueued)return isIdle?(isListening=!0,window.addEventListener("scroll",onScrollDebouncer),void document.body.addEventListener("touchmove",onScrollDebouncer)):void requestTick()}function disableScrollListener(){isListening&&(window.removeEventListener("scroll",onScrollDebouncer),document.body.removeEventListener("touchmove",onScrollDebouncer),isListening=!1)}function onScrollDebouncer(){isIdle=!1,requestTick(),disableScrollListener()}function requestTick(){isQueued||(detectIdleTimeout||(detectIdleTimeout=window.setTimeout(detectIdle,1500)),tickId=requestFrame(handleScroll),isQueued=!0)}function cancelTick(){isQueued&&(cancelFrame(tickId),isQueued=!1)}function detectIdle(){isIdle=!0,cancelTick(),enableScrollListener()}function onscrolling(e,l){if(isSupported)return enableScrollListener(),"function"==typeof e?(l=e,void callbackQueue.y.push(l)):void("function"==typeof l&&(~directionX.indexOf(e)?callbackQueue.x.push(l):~directionAll.indexOf(e)?callbackQueue.any.push(l):callbackQueue.y.push(l)))}var requestFrame=window.requestAnimationFrame,cancelFrame=window.cancelAnimationFrame;requestFrame||["ms","moz","webkit","o"].every(function(e){return requestFrame=window[e+"RequestAnimationFrame"],cancelFrame=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"],!requestFrame});var isSupported=!!requestFrame,isListening=!1,isQueued=!1,isIdle=!0,scrollY=window.pageYOffset,scrollX=window.pageXOffset,scrollYCached=scrollY,scrollXCached=scrollX,directionX=["x","horizontal"],directionAll=["any"],callbackQueue={x:[],y:[],any:[]},detectIdleTimeout=void 0,tickId=void 0;triggerCallback.y=function(e){triggerCallback(e,scrollY)},triggerCallback.x=function(e){triggerCallback(e,scrollX)},triggerCallback.any=function(e){triggerCallback(e,[scrollX,scrollY])},onscrolling.remove=function(e,l){var c="y",n=void 0,i=void 0;if("string"==typeof e){if("function"!=typeof l)return;~directionX.indexOf(e)?c=directionX[0]:~directionAll.indexOf(e)&&(c=directionAll[0])}else l=e;n=callbackQueue[c],i=n.indexOf(l),i>-1&&n.splice(i,1),callbackQueue.x.length||callbackQueue.y.length||callbackQueue.any.length||(cancelTick(),disableScrollListener())},onscrolling.off=onscrolling.remove;