"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,o,i){return o&&e(n.prototype,o),i&&e(n,i),n}}(),Mikado=function(){function e(){_classCallCheck(this,e),this.w=window,this.doc=document,this.html=this.doc.documentElement,this.polyfillReady=!1,this.systemReady=!1;var n=void 0,o={module_url:"dist/js/mikado/modules/",vendor_url:"dist/js/vendor/",dev:!1},i=window.mikadoConfig||{};for(n in o)n in i||(i[n]=o[n]);this.config=i;var t=this;this.doc.addEventListener("polyfillReady",function(){t.polyfillReady=!0}),this.doc.addEventListener("DOMContentLoaded",function(){Base.logger("Window Loaded: loading enhancers..."),t.loadEnhancers()}),this.doc.addEventListener("systemReady",function(){t.systemReady=!0})}return _createClass(e,[{key:"moduleURL",value:function(e){var n=window.mikadoConfig||{module_url:"dist/js/vendor/"};return n.module_url+e}},{key:"loadSystemJs",value:function(){e.loadConditionalGlobal("body","System",this.moduleURL("system.min.js"),function(){var e=window.systemConfig||{};SystemJS.config(e),Base.triggerEvent("systemReady")})}},{key:"loadLazySizes",value:function(){var n=!1;document.querySelector("[data-bg]")?(e.loadConditionalGlobal("[data-bg]","unveilhooks",mikado.moduleURL("ls.unveilhooks.min.js"),function(){Base.triggerEvent("loadLazySizes")},null),n=!1):n=!0,document.addEventListener("loadLazySizes",function(){window.lazySizesConfig=window.lazySizesConfig||{};var n="lazyClass"in window.lazySizesConfig?window.lazySizesConfig.lazyClass:".lazyload";e.loadConditionalGlobal(n,"lazysizes",mikado.moduleURL("lazysizes.min.js"),function(){},"lazySizes")}),n&&Base.triggerEvent("loadLazySizes")}},{key:"loadEnhancers",value:function(){this.loadSystemJs(),e.loadConditionalGlobal("form","validate",this.moduleURL("validate.min.js")),this.loadLazySizes()}}],[{key:"loadConditionalImport",value:function(e,n,o){if(document.querySelector(e))return"System"in window?System["import"](n).then(o):(document.addEventListener("systemReady",function(){System["import"](n).then(o)}),!1)}},{key:"loadConditionalGlobal",value:function(e,n,o,i){var t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i=i||function(){},document.querySelector(e)){var a="script#"+n;document.querySelector(a)?t in window?i.call():document.querySelector(a).addEventListener("load",function(){i.call()}):Base.loadScript(o,i,n)}}}]),e}(),mikado=new Mikado;